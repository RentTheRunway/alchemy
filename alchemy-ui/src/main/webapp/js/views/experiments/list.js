// Generated by CoffeeScript 1.7.1
(function() {
  define(['jquery', 'underscore', 'backbone', 'collections/experiments', 'views/experiments/list_item', 'libs/text!templates/experiments/_list.html'], function($, _, Backbone, Experiments, ListItemView, experimentsListTemplate) {
    var ListView;
    return ListView = Backbone.View.extend({
      initialize: function() {
        this.collection = new Experiments();
        this.listenTo(this.collection, 'sync', this.render);
        return this.collection.fetch();
      },
      render: function() {
        var experiments;
        $('.js-page-title').text('Welcome to Alchemy');
        $('.js-page-subtitle').text('All Experiments');
        $('#page-content').html(experimentsListTemplate);
        experiments = _.sortBy(this.collection.models, function(e) {
          return -e.get('created');
        });
        return _.each(experiments, function(model) {
          return $('#experiments-list').append(new ListItemView({
            model: model
          }).render().$el);
        });
      }
    });
  });

}).call(this);
